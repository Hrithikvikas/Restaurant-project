<%- include('./includes/head.ejs') %>
<link rel="stylesheet" href="/css/forms.css">
<link rel="stylesheet" href="/css/product.css">
<style>.form-popup{display: none;}</style>
</head>

<body>
<%- include('./includes/navigation.ejs') %>

<main>
    <button class="open-button" onclick="openForm()">Book Table</button>

    <div class="form-popup" id="myForm" >
        <form action="/customer/tables" method="post" class="form-container">  
            <label for="slot_no">Choose a slot </label>
            <select name="slot_no">
                <option value="1">Slot 1</option>
                <option value="2">Slot 2</option>
                <option value="3">Slot 3</option>
            </select>
            <button type="submit" class="btn">Confirm slot</button>
            <button type="button" class="btn cancel" onclick="closeForm()">Cancel Booking</button>
        </form>
      </div>

      <h2>Tables booked for today</h2>
      <div class="grid">
        <% tables_booked.forEach(function(item) { %> 
        <article class="card product-item">
            <header class="card__header">
                <h2 class="product__title">
                    Table Id: <%= item.table_id %>
                </h2>
            </header>
            <h3>Slot No:<%= item.slot_no %></h3>
              <h3>Capacity: <%= item.seater %></h3>
                
            </div>
            
        </article>
        <% }); %>
      
</main>

<script>
    function openForm() {
      document.getElementById("myForm").style.display = "block";
    }
    
    function closeForm() {
      document.getElementById("myForm").style.display = "none";
    }
 </script>